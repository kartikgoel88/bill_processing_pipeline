# Employee Reimbursement Processing Pipeline - Environment Example
# Copy to .env and fill in values

# Input (root folder with structure expense_type/employee_id/bills)
INPUT_ROOT=test_input
# Optional: PDF to extract policy limits from (overrides env/defaults when present)
POLICY_PDF_PATH=test_input/policy/company_policy.pdf
DRY_RUN=false

# LLM endpoint (default: local Ollama)
LLM_BASE_URL=http://localhost:11434/v1
LLM_API_KEY=

# --- OpenAI GPT-4o mini (policy + decision + optional vision) ---
# Uncomment and set your key to use OpenAI instead of Ollama:
# LLM_BASE_URL=https://api.openai.com/v1
# LLM_API_KEY=sk-your-openai-key
# LLM_DECISION_MODEL=gpt-4o-mini
# LLM_VISION_MODEL=gpt-4o-mini

# --- Split vision vs decision: one local (Ollama), one API (OpenAI) ---
# If set, vision and decision use these endpoints; otherwise they use LLM_BASE_URL and LLM_API_KEY.
# Example: vision on OpenAI, decision local:
# LLM_VISION_BASE_URL=https://api.openai.com/v1
# LLM_VISION_API_KEY=sk-your-openai-key
# LLM_VISION_MODEL=gpt-4o-mini
# (leave LLM_DECISION_BASE_URL unset to use LLM_BASE_URL for decision)
# Example: decision on OpenAI, vision local:
# LLM_DECISION_BASE_URL=https://api.openai.com/v1
# LLM_DECISION_API_KEY=sk-your-openai-key
# LLM_DECISION_MODEL=gpt-4o-mini

# Model names (Ollama defaults; override for OpenAI above)
LLM_VISION_MODEL=llava
LLM_DECISION_MODEL=llama3.2

# Thresholds
OCR_CONFIDENCE_THRESHOLD=0.6
DECISION_CONFIDENCE_THRESHOLD=0.7

# Retry
LLM_MAX_RETRIES=3
LLM_RETRY_DELAY_SEC=2

# Policy: general
SUBMISSION_WINDOW_DAYS=30
MONTHLY_TOTAL_CAP=5000.0

# Policy: meal / fuel / commute (loaded from policy PDF; uncomment only to override)
# MEAL_MAX_DAILY_LIMIT=50.0
# MEAL_MAX_MONTHLY_LIMIT=500.0
# FUEL_MAX_PER_KM_RATE=0.5
# FUEL_MONTHLY_CAP=300.0
# COMMUTE_MAX_PER_TRIP=25.0
# COMMUTE_MONTHLY_CAP=200.0

# Output paths
OUTPUT_JSON_PATH=batch_output.json
OUTPUT_CSV_PATH=decisions.csv
OUTPUT_DASHBOARD_PATH=dashboard_summary.json
OUTPUT_POLICY_PATH=policy_loaded.json

# Parallelism (1 = sequential; >1 = multiprocessing per expense folder)
MAX_WORKERS=1

# Logging
LOG_LEVEL=INFO
